datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}


generator client {
  provider = "prisma-client-js"
}

model Match {
  id             Int      @id @default(autoincrement())

  teamA_id       Int
  teamB_id       Int

  starter_player String
  winner_team    String
  final_score    Int
  notes          String?
  match_date     DateTime

  teamA          Team     @relation("TeamA", fields: [teamA_id], references: [id])
  teamB          Team     @relation("TeamB", fields: [teamB_id], references: [id])

  rounds         Round[]
}

model Round {
  id            Int     @id @default(autoincrement())
  match_id      Int
  round_number  Int
  game_type     String
  round_score   Int
  round_details String?

  match         Match   @relation(fields: [match_id], references: [id])
}

model Team {
  id        Int      @id @default(autoincrement())
  name      String
  player1  String
  player2  String

  matchesA Match[]  @relation("TeamA")
  matchesB Match[]  @relation("TeamB")
}
